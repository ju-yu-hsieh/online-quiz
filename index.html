<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>113åœ‹æŠ€ç­å•†ç®¡ç¾¤å­¸ç§‘ç·šä¸Šæ¸¬é©—(å…¨)</title>
    <script>
        let questions = [];

        // è¼‰å…¥é¡Œåº«
        async function loadQuestions() {
            const response = await fetch("questions.txt"); // è¼‰å…¥ questions.txt æª”
            const text = await response.text();
            const lines = text.trim().split("\n");

            // å°‡æ¯è¡Œè½‰æ›ç‚ºé¡Œç›®çµæ§‹
            questions = lines.map(line => {
                const [question, ...optionsAndAnswer] = line.split("|");
                const options = optionsAndAnswer.slice(0, 4);
                const answer = parseInt(optionsAndAnswer[4]);
                return { question, options, answer };
            });

            startQuiz();
        }

        // éš¨æ©ŸæŠ½å–é¡Œç›®
        function getRandomQuestions(total) {
            return questions.sort(() => 0.5 - Math.random()).slice(0, total);
        }

        function startQuiz() {
            const quizContainer = document.getElementById("quiz-container");
            const selectedQuestions = getRandomQuestions(50);
            let quizHTML = "";

            selectedQuestions.forEach((q, index) => {
                quizHTML += `
                    <div class="question">
                        <p>${index + 1}. ${q.question}</p>
                        ${q.options.map((option, i) => `
                            <label>
                                <input type="radio" name="q${index}" value="${i + 1}">
                                ${option}
                            </label><br>
                        `).join("")}
                    </div>
                `;
            });

            quizHTML += `
                <button onclick="submitQuiz()">æäº¤æ¸¬é©—</button>
            `;
            quizContainer.innerHTML = quizHTML;
        }

        function submitQuiz() {
            const results = document.getElementById("results");
            const inputs = document.querySelectorAll("input[type='radio']:checked");
            let score = 0;
            let incorrectAnswers = [];
            
            inputs.forEach((input, index) => {
                const questionIndex = parseInt(input.name.replace("q", ""));
                const userAnswer = parseInt(input.value);
                const correctAnswer = questions[questionIndex].answer;

                if (userAnswer === correctAnswer) {
                    score += 2;
                } else {
                    incorrectAnswers.push({
                        question: questions[questionIndex].question,
                        correctAnswer: questions[questionIndex].options[correctAnswer - 1]
                    });
                }
            });

            let resultHTML = `<h2><font color="blue">å¾—åˆ†ï¼š${score} åˆ†</font></h2>`;
            if (incorrectAnswers.length > 0) {
                resultHTML += "<h3><font color=#ff0000>ç­”éŒ¯é¡Œç›®ï¼š</font></h3><ul>";
                incorrectAnswers.forEach(inc => {
                    resultHTML += `<li>${inc.question} (æ­£ç¢ºç­”æ¡ˆï¼š<font color=#ff0000>${inc.correctAnswer}</font>)</li>`;
                });
                resultHTML += "</ul>";
            }

            results.innerHTML = resultHTML;
        }

        // åˆå§‹åŒ–
        window.onload = loadQuestions;
    </script>
</head>
<body>
    <h1>113åœ‹æŠ€ç­å•†ç®¡ç¾¤å­¸ç§‘ç·šä¸Šæ¸¬é©—1-250é¡Œ(å…¨)éš¨æ©ŸæŠ½50é¡Œ</h1>
    <h4>æ–°åŒ—å¸‚ä¸‰é‡å•†å·¥ è³‡è™•ç§‘ è¬ä½³å„’è€å¸«ç·¨è£½</h4>
    ğŸ“¢å¯é‡è¤‡åšæ¸¬è©¦ã€‚<br>
    ğŸ“¢é¡Œç›®èˆ‡é¸é …é †åºæœƒè®Šã€‚<br>
    ğŸ“¢æ¸¬è©¦å¾Œå¯ä»¥çœ‹åˆ°å¾—åˆ†èˆ‡ç­”éŒ¯çš„é¡Œç›®ã€‚<br>
    ğŸ“¢ç­”éŒ¯çš„é¡Œç›®ï¼Œæœƒé¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆï¼Œè«‹èƒŒç†ŸåšéŒ¯çš„é¡Œç›®ã€‚<br>
    ğŸ“¢è‹¥ç­”æ¡ˆèˆ‡é¡Œæœ¬ä¸åŒï¼Œä»¥é¡Œæœ¬ç‚ºä¸»ã€‚(è«‹è·Ÿæˆ‘èªªï¼Œæˆ‘å†æ”¹æ­£ç·šä¸Šæ¸¬é©—)<br>
    <div id="quiz-container"></div>
    <div id="results"></div>
</body>
</html>
